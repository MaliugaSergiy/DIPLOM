(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

$(document).ready(function () {

    //Vacancies datas from google spreadsheets
    //
    if (document.getElementsByClassName("collapsible")) {
        $.getJSON("https://spreadsheets.google.com/feeds/list/1Jl9jZ7S8tCzWjtseppatWxOhICcAo46h3sUS_JjSV9w/od6/public/values?alt=json", function (data) {
            //console.log(data['feed']['entry']);
            var data = data['feed']['entry'];
            var vacan = [];

            for (var key in data) {
                var id = data[key]['gsx$id']['$t'];
                var name = data[key]['gsx$name']['$t'];
                var descr = data[key]['gsx$descr']['$t'];
                vacan[id] = {};
                vacan[id]['name'] = name;
                vacan[id]['descr'] = descr;
            }

            vacan = vacan.reverse();
            var objVacan = {};
            objVacan.objV = vacan;

            var $collapsible = $(".collapsible");
            var source = $("#vacancies_base").html();
            var template = Handlebars.compile(source);
            var html = template(objVacan);
            $collapsible.append(html);

            $(".collapsible li:first-child").addClass("active");
            $(".collapsible li:first-child .collapsible-header").addClass("active");
            //materializecss accordion (collapsible)
            $('.collapsible').collapsible();
        });
    }

    // Handelbars
    if (document.getElementById("prod_container")) {
        var $prod_container = $("#prod_container");
        $.ajax({
            url: "base.json"
        }).done(function (data) {
            console.log(data);
            var source = $("#goods").html();
            var template = Handlebars.compile(source);
            var html = template(data);
            $prod_container.append(html);

            $("#prod_container").slick({
                dots: false,
                infinite: true,
                speed: 1200,
                slidesToShow: 4,
                slidesToScroll: 4,
                autoplay: true,
                autoplaySpeed: 3000,
                arrows: false,
                responsive: [{
                    breakpoint: 1024,
                    settings: {
                        slidesToShow: 3,
                        slidesToScroll: 3,
                        infinite: true
                    }
                }, {
                    breakpoint: 850,
                    settings: {
                        slidesToShow: 2,
                        slidesToScroll: 2,
                        infinite: true
                    }
                }, {
                    breakpoint: 560,
                    settings: {
                        slidesToShow: 1,
                        slidesToScroll: 1,
                        infinite: true
                    }
                }]
            });
        });
    }

    if (document.getElementById("first_ctalog_content")) {
        var $first_ctalog_content = $("#first_ctalog_content");
        $.ajax({
            url: "base.json"
        }).done(function (data) {
            console.log(data.goodCategory[1]);
            var source = $("#first_ctalog").html();
            var template = Handlebars.compile(source);
            var html = template(data.goodCategory[1]);
            $first_ctalog_content.append(html);
        });
    }

    $('[data-remodal-id=modal]').remodal();

    //materializecss modal init
    $('.modal').modal();

    //loading of header content
    $("header").load("templates/header.html", function () {
        var _$$dropdown;

        // meterializecss droppDown
        $('.dropdown-button').dropdown((_$$dropdown = {
            inDuration: 300,
            outDuration: 225,
            constrainWidth: false, // Does not change width of dropdown to that of the activator
            hover: false, // Activate on hover
            gutter: 0, // Spacing from edge
            belowOrigin: true, // Displays dropdown below the button
            alignment: 'left' }, _defineProperty(_$$dropdown, "gutter", -110), _defineProperty(_$$dropdown, "stopPropagation", false), _$$dropdown));
        // slide and swipe menu init
        $('nav').slideAndSwipe();

        $(".ssm-toggle-nav").on("click", function () {
            //$("body").toggleClass("body_OH");
        });

        document.addEventListener("keydown", keyDownTextField, false);

        function keyDownTextField(e) {
            var keyCode = e.keyCode;
            if (keyCode == 27) {}
        }
    });
    $("footer").load("templates/footer.html");

    // setting for slick-sliders
    $('.start_slider').slick({
        infinite: true,
        autoplay: true,
        autoplaySpeed: 5000,
        dots: true,
        fade: true,
        cssEase: 'linear'

    });

    $('.slider-another').slick({
        infinite: true,
        slidesToShow: 4,
        slidesToScroll: 4,
        dots: false,
        fade: false,
        cssEase: 'linear',
        responsive: [{
            breakpoint: 750,
            settings: {
                slidesToShow: 3,
                slidesToScroll: 3
            }
        }, {
            breakpoint: 520,
            settings: {
                slidesToShow: 2,
                slidesToScroll: 2
            }
        }]

    });

    $('.slider-for').slick({
        slidesToShow: 1,
        slidesToScroll: 1,
        arrows: false,
        fade: true,
        asNavFor: '.slider-nav'
    });

    $('.slider-for').slickLightbox({
        src: 'href',
        itemSelector: 'a'
    });

    $('.slider-nav').slick({
        slidesToShow: 3,
        slidesToScroll: 1,
        asNavFor: '.slider-for',
        autoplay: true,
        autoplaySpeed: 3000,
        centerMode: true,
        arrows: true,
        centerPadding: 0,
        focusOnSelect: true,
        responsive: [{
            breakpoint: 520,
            settings: {
                slidesToShow: 2,
                slidesToScroll: 2
            }
        }]
    });

    // pollyfil for css property position sticky
    $('aside').Stickyfill();
    //    $("aside").sticky({
    //        topSpacing: 80
    //    });
    //    $('aside').on('sticky-start', function () {
    //        console.log("Started");
    //    });
    //    $('aside').on('sticky-end', function () {
    //        console.log("Ended");
    //    });
    //    $('aside').on('sticky-update', function () {
    //        console.log("Update");
    //    });
    //    $('aside').on('sticky-bottom-reached', function () {
    //        console.log("Bottom reached");
    //    });
    //    $('aside').on('sticky-bottom-unreached', function () {
    //        console.log("Bottom unreached");
    //    });
    //    $("aside").unstick();


    //WOW init
    new WOW().init();

    //    function setWidth() {
    //        var windowWidth = window.screen.width;
    //        $(".area-bag").css("with", windowWidth);  
    //    }
    //    setWidth();
    //    window.onresize = function() {
    //        setWidth();
    //    }


    //Form VAlidation 

    //    $("#js_register_form").validate({
    //        rules: {
    //            form_name: {
    //                required: true
    //            },
    //            form_email: {
    //                required: true,
    //                email: true
    //            },
    //            form_phone: {
    //                required: true,
    //                minlenhth: 10,
    //                digits: true
    //            },
    //        },
    //        messages: {
    //            form_name: {
    //                required: "Обязательное поле"
    //            },
    //            form_email: {
    //                required: "Обязательное поле",
    //                email: "Введите корректный Email"
    //            },
    //            form_phone: {
    //                required: "Обязательное поле"
    //            }
    //        },
    //        focusCleanup: true,
    //        focusInvalid: false
    //    });


    //phone input mask
    $("#form_phone").mask("(999) 999-99-99");

    // parallax init
    //    $('.parallax').parallax();


    // buttton UP
    // button arrow to UP

    $("body").append("<button class='btn_up'/>");

    $(window).scroll(function () {
        var windscroll = $(window).scrollTop();
        if ($(window).scrollTop() > 50) {
            $(".btn_up").addClass("activeB");
        } else {
            $(".btn_up").removeClass("activeB");
        }
    });

    $(".btn_up").on("click", function (e) {
        e.preventDefault();
        $(this).removeClass("activeB");
        $("body").animate({
            'scrollTop': 0
        }, 800);
        $("html").animate({
            'scrollTop': 0
        }, 800);
    });
});
},{}]},{},[1])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJkZXYvanMvY29tbW9uLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJcInVzZSBzdHJpY3RcIjtcblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cblxuJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24gKCkge1xuXG4gICAgLy9WYWNhbmNpZXMgZGF0YXMgZnJvbSBnb29nbGUgc3ByZWFkc2hlZXRzXG4gICAgLy9cbiAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImNvbGxhcHNpYmxlXCIpKSB7XG4gICAgICAgICQuZ2V0SlNPTihcImh0dHBzOi8vc3ByZWFkc2hlZXRzLmdvb2dsZS5jb20vZmVlZHMvbGlzdC8xSmw5alo3Uzh0Q3pXanRzZXBwYXRXeE9oSUNjQW80Nmgzc1VTX0pqU1Y5dy9vZDYvcHVibGljL3ZhbHVlcz9hbHQ9anNvblwiLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhkYXRhWydmZWVkJ11bJ2VudHJ5J10pO1xuICAgICAgICAgICAgdmFyIGRhdGEgPSBkYXRhWydmZWVkJ11bJ2VudHJ5J107XG4gICAgICAgICAgICB2YXIgdmFjYW4gPSBbXTtcblxuICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIGRhdGEpIHtcbiAgICAgICAgICAgICAgICB2YXIgaWQgPSBkYXRhW2tleV1bJ2dzeCRpZCddWyckdCddO1xuICAgICAgICAgICAgICAgIHZhciBuYW1lID0gZGF0YVtrZXldWydnc3gkbmFtZSddWyckdCddO1xuICAgICAgICAgICAgICAgIHZhciBkZXNjciA9IGRhdGFba2V5XVsnZ3N4JGRlc2NyJ11bJyR0J107XG4gICAgICAgICAgICAgICAgdmFjYW5baWRdID0ge307XG4gICAgICAgICAgICAgICAgdmFjYW5baWRdWyduYW1lJ10gPSBuYW1lO1xuICAgICAgICAgICAgICAgIHZhY2FuW2lkXVsnZGVzY3InXSA9IGRlc2NyO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YWNhbiA9IHZhY2FuLnJldmVyc2UoKTtcbiAgICAgICAgICAgIHZhciBvYmpWYWNhbiA9IHt9O1xuICAgICAgICAgICAgb2JqVmFjYW4ub2JqViA9IHZhY2FuO1xuXG4gICAgICAgICAgICB2YXIgJGNvbGxhcHNpYmxlID0gJChcIi5jb2xsYXBzaWJsZVwiKTtcbiAgICAgICAgICAgIHZhciBzb3VyY2UgPSAkKFwiI3ZhY2FuY2llc19iYXNlXCIpLmh0bWwoKTtcbiAgICAgICAgICAgIHZhciB0ZW1wbGF0ZSA9IEhhbmRsZWJhcnMuY29tcGlsZShzb3VyY2UpO1xuICAgICAgICAgICAgdmFyIGh0bWwgPSB0ZW1wbGF0ZShvYmpWYWNhbik7XG4gICAgICAgICAgICAkY29sbGFwc2libGUuYXBwZW5kKGh0bWwpO1xuXG4gICAgICAgICAgICAkKFwiLmNvbGxhcHNpYmxlIGxpOmZpcnN0LWNoaWxkXCIpLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xuICAgICAgICAgICAgJChcIi5jb2xsYXBzaWJsZSBsaTpmaXJzdC1jaGlsZCAuY29sbGFwc2libGUtaGVhZGVyXCIpLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xuICAgICAgICAgICAgLy9tYXRlcmlhbGl6ZWNzcyBhY2NvcmRpb24gKGNvbGxhcHNpYmxlKVxuICAgICAgICAgICAgJCgnLmNvbGxhcHNpYmxlJykuY29sbGFwc2libGUoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gSGFuZGVsYmFyc1xuICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByb2RfY29udGFpbmVyXCIpKSB7XG4gICAgICAgIHZhciAkcHJvZF9jb250YWluZXIgPSAkKFwiI3Byb2RfY29udGFpbmVyXCIpO1xuICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgdXJsOiBcImJhc2UuanNvblwiXG4gICAgICAgIH0pLmRvbmUoZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xuICAgICAgICAgICAgdmFyIHNvdXJjZSA9ICQoXCIjZ29vZHNcIikuaHRtbCgpO1xuICAgICAgICAgICAgdmFyIHRlbXBsYXRlID0gSGFuZGxlYmFycy5jb21waWxlKHNvdXJjZSk7XG4gICAgICAgICAgICB2YXIgaHRtbCA9IHRlbXBsYXRlKGRhdGEpO1xuICAgICAgICAgICAgJHByb2RfY29udGFpbmVyLmFwcGVuZChodG1sKTtcblxuICAgICAgICAgICAgJChcIiNwcm9kX2NvbnRhaW5lclwiKS5zbGljayh7XG4gICAgICAgICAgICAgICAgZG90czogZmFsc2UsXG4gICAgICAgICAgICAgICAgaW5maW5pdGU6IHRydWUsXG4gICAgICAgICAgICAgICAgc3BlZWQ6IDEyMDAsXG4gICAgICAgICAgICAgICAgc2xpZGVzVG9TaG93OiA0LFxuICAgICAgICAgICAgICAgIHNsaWRlc1RvU2Nyb2xsOiA0LFxuICAgICAgICAgICAgICAgIGF1dG9wbGF5OiB0cnVlLFxuICAgICAgICAgICAgICAgIGF1dG9wbGF5U3BlZWQ6IDMwMDAsXG4gICAgICAgICAgICAgICAgYXJyb3dzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICByZXNwb25zaXZlOiBbe1xuICAgICAgICAgICAgICAgICAgICBicmVha3BvaW50OiAxMDI0LFxuICAgICAgICAgICAgICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2xpZGVzVG9TaG93OiAzLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2xpZGVzVG9TY3JvbGw6IDMsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmZpbml0ZTogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICBicmVha3BvaW50OiA4NTAsXG4gICAgICAgICAgICAgICAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzbGlkZXNUb1Nob3c6IDIsXG4gICAgICAgICAgICAgICAgICAgICAgICBzbGlkZXNUb1Njcm9sbDogMixcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZmluaXRlOiB0cnVlXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrcG9pbnQ6IDU2MCxcbiAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNsaWRlc1RvU2hvdzogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNsaWRlc1RvU2Nyb2xsOiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5maW5pdGU6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1dXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZmlyc3RfY3RhbG9nX2NvbnRlbnRcIikpIHtcbiAgICAgICAgdmFyICRmaXJzdF9jdGFsb2dfY29udGVudCA9ICQoXCIjZmlyc3RfY3RhbG9nX2NvbnRlbnRcIik7XG4gICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICB1cmw6IFwiYmFzZS5qc29uXCJcbiAgICAgICAgfSkuZG9uZShmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YS5nb29kQ2F0ZWdvcnlbMV0pO1xuICAgICAgICAgICAgdmFyIHNvdXJjZSA9ICQoXCIjZmlyc3RfY3RhbG9nXCIpLmh0bWwoKTtcbiAgICAgICAgICAgIHZhciB0ZW1wbGF0ZSA9IEhhbmRsZWJhcnMuY29tcGlsZShzb3VyY2UpO1xuICAgICAgICAgICAgdmFyIGh0bWwgPSB0ZW1wbGF0ZShkYXRhLmdvb2RDYXRlZ29yeVsxXSk7XG4gICAgICAgICAgICAkZmlyc3RfY3RhbG9nX2NvbnRlbnQuYXBwZW5kKGh0bWwpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAkKCdbZGF0YS1yZW1vZGFsLWlkPW1vZGFsXScpLnJlbW9kYWwoKTtcblxuICAgIC8vbWF0ZXJpYWxpemVjc3MgbW9kYWwgaW5pdFxuICAgICQoJy5tb2RhbCcpLm1vZGFsKCk7XG5cbiAgICAvL2xvYWRpbmcgb2YgaGVhZGVyIGNvbnRlbnRcbiAgICAkKFwiaGVhZGVyXCIpLmxvYWQoXCJ0ZW1wbGF0ZXMvaGVhZGVyLmh0bWxcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgXyQkZHJvcGRvd247XG5cbiAgICAgICAgLy8gbWV0ZXJpYWxpemVjc3MgZHJvcHBEb3duXG4gICAgICAgICQoJy5kcm9wZG93bi1idXR0b24nKS5kcm9wZG93bigoXyQkZHJvcGRvd24gPSB7XG4gICAgICAgICAgICBpbkR1cmF0aW9uOiAzMDAsXG4gICAgICAgICAgICBvdXREdXJhdGlvbjogMjI1LFxuICAgICAgICAgICAgY29uc3RyYWluV2lkdGg6IGZhbHNlLCAvLyBEb2VzIG5vdCBjaGFuZ2Ugd2lkdGggb2YgZHJvcGRvd24gdG8gdGhhdCBvZiB0aGUgYWN0aXZhdG9yXG4gICAgICAgICAgICBob3ZlcjogZmFsc2UsIC8vIEFjdGl2YXRlIG9uIGhvdmVyXG4gICAgICAgICAgICBndXR0ZXI6IDAsIC8vIFNwYWNpbmcgZnJvbSBlZGdlXG4gICAgICAgICAgICBiZWxvd09yaWdpbjogdHJ1ZSwgLy8gRGlzcGxheXMgZHJvcGRvd24gYmVsb3cgdGhlIGJ1dHRvblxuICAgICAgICAgICAgYWxpZ25tZW50OiAnbGVmdCcgfSwgX2RlZmluZVByb3BlcnR5KF8kJGRyb3Bkb3duLCBcImd1dHRlclwiLCAtMTEwKSwgX2RlZmluZVByb3BlcnR5KF8kJGRyb3Bkb3duLCBcInN0b3BQcm9wYWdhdGlvblwiLCBmYWxzZSksIF8kJGRyb3Bkb3duKSk7XG4gICAgICAgIC8vIHNsaWRlIGFuZCBzd2lwZSBtZW51IGluaXRcbiAgICAgICAgJCgnbmF2Jykuc2xpZGVBbmRTd2lwZSgpO1xuXG4gICAgICAgICQoXCIuc3NtLXRvZ2dsZS1uYXZcIikub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAvLyQoXCJib2R5XCIpLnRvZ2dsZUNsYXNzKFwiYm9keV9PSFwiKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwga2V5RG93blRleHRGaWVsZCwgZmFsc2UpO1xuXG4gICAgICAgIGZ1bmN0aW9uIGtleURvd25UZXh0RmllbGQoZSkge1xuICAgICAgICAgICAgdmFyIGtleUNvZGUgPSBlLmtleUNvZGU7XG4gICAgICAgICAgICBpZiAoa2V5Q29kZSA9PSAyNykge31cbiAgICAgICAgfVxuICAgIH0pO1xuICAgICQoXCJmb290ZXJcIikubG9hZChcInRlbXBsYXRlcy9mb290ZXIuaHRtbFwiKTtcblxuICAgIC8vIHNldHRpbmcgZm9yIHNsaWNrLXNsaWRlcnNcbiAgICAkKCcuc3RhcnRfc2xpZGVyJykuc2xpY2soe1xuICAgICAgICBpbmZpbml0ZTogdHJ1ZSxcbiAgICAgICAgYXV0b3BsYXk6IHRydWUsXG4gICAgICAgIGF1dG9wbGF5U3BlZWQ6IDUwMDAsXG4gICAgICAgIGRvdHM6IHRydWUsXG4gICAgICAgIGZhZGU6IHRydWUsXG4gICAgICAgIGNzc0Vhc2U6ICdsaW5lYXInXG5cbiAgICB9KTtcblxuICAgICQoJy5zbGlkZXItYW5vdGhlcicpLnNsaWNrKHtcbiAgICAgICAgaW5maW5pdGU6IHRydWUsXG4gICAgICAgIHNsaWRlc1RvU2hvdzogNCxcbiAgICAgICAgc2xpZGVzVG9TY3JvbGw6IDQsXG4gICAgICAgIGRvdHM6IGZhbHNlLFxuICAgICAgICBmYWRlOiBmYWxzZSxcbiAgICAgICAgY3NzRWFzZTogJ2xpbmVhcicsXG4gICAgICAgIHJlc3BvbnNpdmU6IFt7XG4gICAgICAgICAgICBicmVha3BvaW50OiA3NTAsXG4gICAgICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgICAgICAgIHNsaWRlc1RvU2hvdzogMyxcbiAgICAgICAgICAgICAgICBzbGlkZXNUb1Njcm9sbDogM1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBicmVha3BvaW50OiA1MjAsXG4gICAgICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgICAgICAgIHNsaWRlc1RvU2hvdzogMixcbiAgICAgICAgICAgICAgICBzbGlkZXNUb1Njcm9sbDogMlxuICAgICAgICAgICAgfVxuICAgICAgICB9XVxuXG4gICAgfSk7XG5cbiAgICAkKCcuc2xpZGVyLWZvcicpLnNsaWNrKHtcbiAgICAgICAgc2xpZGVzVG9TaG93OiAxLFxuICAgICAgICBzbGlkZXNUb1Njcm9sbDogMSxcbiAgICAgICAgYXJyb3dzOiBmYWxzZSxcbiAgICAgICAgZmFkZTogdHJ1ZSxcbiAgICAgICAgYXNOYXZGb3I6ICcuc2xpZGVyLW5hdidcbiAgICB9KTtcblxuICAgICQoJy5zbGlkZXItZm9yJykuc2xpY2tMaWdodGJveCh7XG4gICAgICAgIHNyYzogJ2hyZWYnLFxuICAgICAgICBpdGVtU2VsZWN0b3I6ICdhJ1xuICAgIH0pO1xuXG4gICAgJCgnLnNsaWRlci1uYXYnKS5zbGljayh7XG4gICAgICAgIHNsaWRlc1RvU2hvdzogMyxcbiAgICAgICAgc2xpZGVzVG9TY3JvbGw6IDEsXG4gICAgICAgIGFzTmF2Rm9yOiAnLnNsaWRlci1mb3InLFxuICAgICAgICBhdXRvcGxheTogdHJ1ZSxcbiAgICAgICAgYXV0b3BsYXlTcGVlZDogMzAwMCxcbiAgICAgICAgY2VudGVyTW9kZTogdHJ1ZSxcbiAgICAgICAgYXJyb3dzOiB0cnVlLFxuICAgICAgICBjZW50ZXJQYWRkaW5nOiAwLFxuICAgICAgICBmb2N1c09uU2VsZWN0OiB0cnVlLFxuICAgICAgICByZXNwb25zaXZlOiBbe1xuICAgICAgICAgICAgYnJlYWtwb2ludDogNTIwLFxuICAgICAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICAgICAgICBzbGlkZXNUb1Nob3c6IDIsXG4gICAgICAgICAgICAgICAgc2xpZGVzVG9TY3JvbGw6IDJcbiAgICAgICAgICAgIH1cbiAgICAgICAgfV1cbiAgICB9KTtcblxuICAgIC8vIHBvbGx5ZmlsIGZvciBjc3MgcHJvcGVydHkgcG9zaXRpb24gc3RpY2t5XG4gICAgJCgnYXNpZGUnKS5TdGlja3lmaWxsKCk7XG4gICAgLy8gICAgJChcImFzaWRlXCIpLnN0aWNreSh7XG4gICAgLy8gICAgICAgIHRvcFNwYWNpbmc6IDgwXG4gICAgLy8gICAgfSk7XG4gICAgLy8gICAgJCgnYXNpZGUnKS5vbignc3RpY2t5LXN0YXJ0JywgZnVuY3Rpb24gKCkge1xuICAgIC8vICAgICAgICBjb25zb2xlLmxvZyhcIlN0YXJ0ZWRcIik7XG4gICAgLy8gICAgfSk7XG4gICAgLy8gICAgJCgnYXNpZGUnKS5vbignc3RpY2t5LWVuZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAvLyAgICAgICAgY29uc29sZS5sb2coXCJFbmRlZFwiKTtcbiAgICAvLyAgICB9KTtcbiAgICAvLyAgICAkKCdhc2lkZScpLm9uKCdzdGlja3ktdXBkYXRlJywgZnVuY3Rpb24gKCkge1xuICAgIC8vICAgICAgICBjb25zb2xlLmxvZyhcIlVwZGF0ZVwiKTtcbiAgICAvLyAgICB9KTtcbiAgICAvLyAgICAkKCdhc2lkZScpLm9uKCdzdGlja3ktYm90dG9tLXJlYWNoZWQnLCBmdW5jdGlvbiAoKSB7XG4gICAgLy8gICAgICAgIGNvbnNvbGUubG9nKFwiQm90dG9tIHJlYWNoZWRcIik7XG4gICAgLy8gICAgfSk7XG4gICAgLy8gICAgJCgnYXNpZGUnKS5vbignc3RpY2t5LWJvdHRvbS11bnJlYWNoZWQnLCBmdW5jdGlvbiAoKSB7XG4gICAgLy8gICAgICAgIGNvbnNvbGUubG9nKFwiQm90dG9tIHVucmVhY2hlZFwiKTtcbiAgICAvLyAgICB9KTtcbiAgICAvLyAgICAkKFwiYXNpZGVcIikudW5zdGljaygpO1xuXG5cbiAgICAvL1dPVyBpbml0XG4gICAgbmV3IFdPVygpLmluaXQoKTtcblxuICAgIC8vICAgIGZ1bmN0aW9uIHNldFdpZHRoKCkge1xuICAgIC8vICAgICAgICB2YXIgd2luZG93V2lkdGggPSB3aW5kb3cuc2NyZWVuLndpZHRoO1xuICAgIC8vICAgICAgICAkKFwiLmFyZWEtYmFnXCIpLmNzcyhcIndpdGhcIiwgd2luZG93V2lkdGgpOyAgXG4gICAgLy8gICAgfVxuICAgIC8vICAgIHNldFdpZHRoKCk7XG4gICAgLy8gICAgd2luZG93Lm9ucmVzaXplID0gZnVuY3Rpb24oKSB7XG4gICAgLy8gICAgICAgIHNldFdpZHRoKCk7XG4gICAgLy8gICAgfVxuXG5cbiAgICAvL0Zvcm0gVkFsaWRhdGlvbiBcblxuICAgIC8vICAgICQoXCIjanNfcmVnaXN0ZXJfZm9ybVwiKS52YWxpZGF0ZSh7XG4gICAgLy8gICAgICAgIHJ1bGVzOiB7XG4gICAgLy8gICAgICAgICAgICBmb3JtX25hbWU6IHtcbiAgICAvLyAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZVxuICAgIC8vICAgICAgICAgICAgfSxcbiAgICAvLyAgICAgICAgICAgIGZvcm1fZW1haWw6IHtcbiAgICAvLyAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAvLyAgICAgICAgICAgICAgICBlbWFpbDogdHJ1ZVxuICAgIC8vICAgICAgICAgICAgfSxcbiAgICAvLyAgICAgICAgICAgIGZvcm1fcGhvbmU6IHtcbiAgICAvLyAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAvLyAgICAgICAgICAgICAgICBtaW5sZW5odGg6IDEwLFxuICAgIC8vICAgICAgICAgICAgICAgIGRpZ2l0czogdHJ1ZVxuICAgIC8vICAgICAgICAgICAgfSxcbiAgICAvLyAgICAgICAgfSxcbiAgICAvLyAgICAgICAgbWVzc2FnZXM6IHtcbiAgICAvLyAgICAgICAgICAgIGZvcm1fbmFtZToge1xuICAgIC8vICAgICAgICAgICAgICAgIHJlcXVpcmVkOiBcItCe0LHRj9C30LDRgtC10LvRjNC90L7QtSDQv9C+0LvQtVwiXG4gICAgLy8gICAgICAgICAgICB9LFxuICAgIC8vICAgICAgICAgICAgZm9ybV9lbWFpbDoge1xuICAgIC8vICAgICAgICAgICAgICAgIHJlcXVpcmVkOiBcItCe0LHRj9C30LDRgtC10LvRjNC90L7QtSDQv9C+0LvQtVwiLFxuICAgIC8vICAgICAgICAgICAgICAgIGVtYWlsOiBcItCS0LLQtdC00LjRgtC1INC60L7RgNGA0LXQutGC0L3Ri9C5IEVtYWlsXCJcbiAgICAvLyAgICAgICAgICAgIH0sXG4gICAgLy8gICAgICAgICAgICBmb3JtX3Bob25lOiB7XG4gICAgLy8gICAgICAgICAgICAgICAgcmVxdWlyZWQ6IFwi0J7QsdGP0LfQsNGC0LXQu9GM0L3QvtC1INC/0L7Qu9C1XCJcbiAgICAvLyAgICAgICAgICAgIH1cbiAgICAvLyAgICAgICAgfSxcbiAgICAvLyAgICAgICAgZm9jdXNDbGVhbnVwOiB0cnVlLFxuICAgIC8vICAgICAgICBmb2N1c0ludmFsaWQ6IGZhbHNlXG4gICAgLy8gICAgfSk7XG5cblxuICAgIC8vcGhvbmUgaW5wdXQgbWFza1xuICAgICQoXCIjZm9ybV9waG9uZVwiKS5tYXNrKFwiKDk5OSkgOTk5LTk5LTk5XCIpO1xuXG4gICAgLy8gcGFyYWxsYXggaW5pdFxuICAgIC8vICAgICQoJy5wYXJhbGxheCcpLnBhcmFsbGF4KCk7XG5cblxuICAgIC8vIGJ1dHR0b24gVVBcbiAgICAvLyBidXR0b24gYXJyb3cgdG8gVVBcblxuICAgICQoXCJib2R5XCIpLmFwcGVuZChcIjxidXR0b24gY2xhc3M9J2J0bl91cCcvPlwiKTtcblxuICAgICQod2luZG93KS5zY3JvbGwoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgd2luZHNjcm9sbCA9ICQod2luZG93KS5zY3JvbGxUb3AoKTtcbiAgICAgICAgaWYgKCQod2luZG93KS5zY3JvbGxUb3AoKSA+IDUwKSB7XG4gICAgICAgICAgICAkKFwiLmJ0bl91cFwiKS5hZGRDbGFzcyhcImFjdGl2ZUJcIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAkKFwiLmJ0bl91cFwiKS5yZW1vdmVDbGFzcyhcImFjdGl2ZUJcIik7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgICQoXCIuYnRuX3VwXCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKFwiYWN0aXZlQlwiKTtcbiAgICAgICAgJChcImJvZHlcIikuYW5pbWF0ZSh7XG4gICAgICAgICAgICAnc2Nyb2xsVG9wJzogMFxuICAgICAgICB9LCA4MDApO1xuICAgICAgICAkKFwiaHRtbFwiKS5hbmltYXRlKHtcbiAgICAgICAgICAgICdzY3JvbGxUb3AnOiAwXG4gICAgICAgIH0sIDgwMCk7XG4gICAgfSk7XG59KTsiXX0=
